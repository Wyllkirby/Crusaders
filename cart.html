<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Cart - Crusaders</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="body-frame">
  <button onclick="history.back()" class="back-btn">‚Üê Back</button>
  <h1 class="h1-f">Your Cart</h1>
  <div class="cart-container" id="cart-container"></div>

    <script>
    const testItems = [
      { title: "Sample Shirt", size: "M", price: 20.0, image: "https://via.placeholder.com/80" },
      { title: "Sample Shirt", size: "M", price: 20.0, image: "https://via.placeholder.com/80" },
      { title: "Another Shirt", size: "L", price: 25.0, image: "https://via.placeholder.com/80" }
    ];
    localStorage.setItem("cartItems", JSON.stringify(testItems));

    function loadCart() {
      const container = document.getElementById("cart-container");
      const items = JSON.parse(localStorage.getItem("cartItems")) || [];

      if (items.length === 0) {
        container.innerHTML = `<div class="empty-cart">Your cart is currently empty.</div>`;
        return;
      }

      let grouped = {};
      items.forEach(item => {
        const key = item.title + item.size;
        if (!grouped[key]) {
          grouped[key] = { ...item, qty: 1 };
        } else {
          grouped[key].qty++;
        }
      });

      let total = 0;
      Object.values(grouped).forEach(item => {
        total += item.price * item.qty;
        container.innerHTML += `
          <div class="cart-item">
            <img src="${item.image}" />
            <div class="item-details">
              <p><strong>${item.title}</strong></p>
              <p>Size: ${item.size}</p>
              <p>Qty: ${item.qty}</p>
              <p>Price: $${item.price.toFixed(2)}</p>
            </div>
          </div>
        `;
      });

      container.innerHTML += `<div class="total">Total: $${total.toFixed(2)}</div>`;
    }

    loadCart();
  </script>
</body>
</html>
